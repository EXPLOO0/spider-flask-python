import{v as x}from"./element-plus-D_P_grNv.js";import{I as C}from"./echarts-CDqdE8Ao.js";import{e as I}from"./goods-CDsjWicG.js";import{u as w,c as P}from"./index-BtJj4rZf.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as i,h as L,t as u,w as h,a9 as b,o as n,c,K as v,a as k,T as B}from"./@vue-DHgT3ZDP.js";import"./@element-plus-CbUCwym_.js";import"./@vueuse-Cg-j_3TO.js";import"./lodash-es-Dd23coqs.js";import"./@ctrl-riLredlm.js";import"./@popperjs-D9SI2xQl.js";import"./zrender-hT_74Tps.js";import"./tslib-BDyQ-Jie.js";import"./pinia-Dk4c0Xys.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./axios-t6Kmw5HV.js";import"./vue-router-BCyqFZ5F.js";import"./vue-echarts-uXBc8QVI.js";import"./resize-detector-CZu9PX2v.js";const G={class:"goodsChartMain"},D={class:"goodsChartWC"},N=["src"],A={class:"goodsChartChart"},T={__name:"GoodsChartPage",setup(W){const d=i(""),o=i(!0),g=w(),e=P(),m=async()=>{if(o.value=!0,e.pidList.length>0){const t=await I(g.keywordID,e.pidList[e.pidNum-1]);d.value=t.data[0],o.value=!1,a.series[0].data=t.data[1],a.series[1].data=t.data[2],s.setOption(a)}},r=i([[1],[2]]);let s=null;const a={tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["评论评分","情感得分"]},xAxis:[{type:"category",data:["1星","2星","3星","4星","5星"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"评论评分",min:0,max:100,interval:20,axisLabel:{formatter:"{value} %"}},{type:"value",name:"情感得分",min:0,max:100,interval:20,axisLabel:{formatter:"{value}"}}],series:[{name:"评论评分",type:"bar",tooltip:{valueFormatter:function(t){return t+" %"}},data:[]},{name:"情感得分",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(t){return t}},data:[]}]};L(()=>{r.value[0]=[],r.value[1]=[],r.value=document.getElementById("chartId5"),s=C(r.value),s.setOption(a)});const _=u(()=>e.pidList);h(_,t=>{try{t.length>0&&m()}catch(l){console.log(l)}},{immediate:!0,deep:!0});const f=u(()=>e.pidNum);return h(f,()=>{m()},{immediate:!0,deep:!0}),(t,l)=>{const y=b("v-chart"),p=x;return n(),c("div",G,[v((n(),c("div",D,[k("img",{class:"goodsChartWCImg",src:d.value,alt:""},null,8,N)])),[[p,o.value]]),v((n(),c("div",A,[B(y,{id:"chartId5",class:"chart",option:a})])),[[p,o.value]])])}}},et=S(T,[["__scopeId","data-v-d6bef9e5"]]);export{et as default};
