import{I as w}from"./echarts-CDqdE8Ao.js";import{j as g}from"./chart-C9VKpII_.js";import{u as p,b as v}from"./index-BbnE7Jro.js";import{r as u,h as k,x as B,t as m,w as c,a9 as x,o as _,Q as I,u as S}from"./@vue-DHgT3ZDP.js";import"./zrender-hT_74Tps.js";import"./tslib-BDyQ-Jie.js";import"./pinia-Dk4c0Xys.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./axios-t6Kmw5HV.js";import"./vue-router-BCyqFZ5F.js";import"./element-plus-D_P_grNv.js";import"./@element-plus-CbUCwym_.js";import"./@vueuse-Cg-j_3TO.js";import"./lodash-es-Dd23coqs.js";import"./@ctrl-riLredlm.js";import"./@popperjs-D9SI2xQl.js";import"./vue-echarts-uXBc8QVI.js";import"./resize-detector-CZu9PX2v.js";const J={__name:"BrandPriceRangesChart",setup(C){const t=u([]),i=p(),f=v(),l=async()=>{const e=p();if(t.value=[],console.log(11111),!(e.keywordID==null||e.keywordID=="")){const n=await g(e.keywordID,e.Brand1,e.Brand2,e.Brand3);t.value=n.data,a.yAxis.data=t.value[0],a.series[0].data=t.value[1],a.series[1].data=t.value[2],a.series[2].data=t.value[3],a.series[3].data=t.value[4],a.series[4].data=t.value[5],a.series[5].data=t.value[6],a.series[6].data=t.value[7],a.series[7].data=t.value[8],a.series[8].data=t.value[9],a.series[9].data=t.value[10],a.series[10].data=t.value[11],a.series[11].data=t.value[12],console.log("重新渲染BPRC"),o.setOption(a)}},s=()=>function(e){return e.value>0?e.value:""};let a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:[]},series:[{name:"50及以下",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"50到100",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"100到300",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"300到500",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"500到1000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"1000到2000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"2000到3000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"3000到4000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"4000到5000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"5000到10000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"10000到20000",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]},{name:"20000以上",type:"bar",stack:"total",label:{show:!1,formatter:s()},emphasis:{focus:"series"},data:[]}]};const d=u(null);let o=null;k(()=>{l(),d.value=document.getElementById("chartId1"),o=w(d.value),o.setOption(a),o.on("click",e=>{if(e.componentType==="series"){const n=a.yAxis.data[e.dataIndex];a.series[e.seriesIndex].data[e.dataIndex];let r={drawer:!0,brand4:"",priceRanges:""};r.brand4=n,r.priceRanges=e.seriesName,f.setDrawerStore(r.drawer),i.setPriceRanges(r.priceRanges),i.setBrand4Store(r.brand4)}})}),B(()=>{o&&o.dispose()});const h=m(()=>i.Brand1);c(h,e=>{e.length>0&&l()},{immediate:!0,deep:!0});const b=m(()=>i.Brand2);c(b,e=>{e.length>0&&l()},{immediate:!0,deep:!0});const y=m(()=>i.Brand3);return c(y,e=>{e.length>0&&l()},{immediate:!0,deep:!0}),(e,n)=>{const r=x("v-chart");return _(),I(r,{id:"chartId1",class:"chart",option:S(a)},null,8,["option"])}}};export{J as default};
