import{u as l,b as w}from"./index-B2pHGmHf.js";import{b as S}from"./chart-CrURGWuw.js";import{I as v}from"./echarts-CDqdE8Ao.js";import"./echarts-gl-D4x6MmNU.js";import{r as p,h as x,t as c,w as m,a9 as D,o as _,Q as B}from"./@vue-DHgT3ZDP.js";import"./pinia-Dk4c0Xys.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./axios-t6Kmw5HV.js";import"./vue-router-BCyqFZ5F.js";import"./element-plus-D_P_grNv.js";import"./@element-plus-CbUCwym_.js";import"./@vueuse-Cg-j_3TO.js";import"./lodash-es-Dd23coqs.js";import"./@ctrl-riLredlm.js";import"./@popperjs-D9SI2xQl.js";import"./vue-echarts-uXBc8QVI.js";import"./resize-detector-CZu9PX2v.js";import"./zrender-hT_74Tps.js";import"./tslib-BDyQ-Jie.js";import"./claygl-CxufkQw5.js";const N={__name:"Score3DChart",setup(k){const d=p(null);let o=null;const r=l(),u=w(),f=p([]),i=[0,50,100,200,500,1e3,2e3,5e3,1e4,2e4,999999999999],s=[0,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,999999999999],a=async()=>{const t=l();if(!(t.keywordID==null||t.keywordID=="")){const e=await S(t.keywordID,t.Brand1,t.Brand2,t.Brand3);n.series[0].data=e.data,console.log("重新渲染S3C"),o.setOption(n)}},n={visualMap:{max:20,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},xAxis3D:{type:"value",name:"销量",axisLabel:{formatter:function(t){return s[t]}}},yAxis3D:{type:"value",name:"价格",axisLabel:{formatter:function(t){return i[t]}}},zAxis3D:{type:"value",name:"数量"},grid3D:{boxWidth:200,boxDepth:80,viewControl:{},light:{main:{intensity:1.2,shadow:!0},ambient:{intensity:.3}}},tooltip:{formatter:function(t){const e=t.value;return"销量："+i[e[1]]+"-"+i[e[1]-1]+"<br/>价格："+s[e[0]]+"-"+s[e[0]-1]+"<br/>数量："+e[2]}},series:[{type:"bar3D",data:f.value.map(t=>({value:[t[1],t[0],t[2]]})),shading:"lambert",label:{fontSize:16,borderWidth:1},emphasis:{label:{fontSize:20,color:"#900"},itemStyle:{color:"#900"}}}]};x(()=>{d.value=document.getElementById("chartIds3c"),o=v(d.value),o.setOption(n),a(),o.on("click",t=>{if(t.componentType==="series"){let e={drawer:!0,brand5:""};t.data[2]>0&&(u.setDrawer3Store(e.drawer),r.setCommitRangeIndex(t.data[0]),r.setPriceRangeIndex(t.data[1]))}})});const h=c(()=>r.Brand1);m(h,t=>{try{t.length>0&&a()}catch(e){console.log(e)}},{immediate:!0,deep:!0});const g=c(()=>r.Brand2);m(g,t=>{try{t.length>0&&a()}catch(e){console.log(e)}},{immediate:!0,deep:!0});const b=c(()=>r.Brand3);return m(b,t=>{try{t.length>0&&a()}catch(e){console.log(e)}},{immediate:!0,deep:!0}),(t,e)=>{const y=D("v-chart");return _(),B(y,{id:"chartIds3c",class:"chart",option:n})}}};export{N as default};
